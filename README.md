# MonitorHead

## –û –ø—Ä–æ–µ–∫—Ç–µ

–ü—Ä–æ–µ–∫—Ç –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ä–∞–±–æ—Ç—ã –≤ –æ–¥–Ω–æ–º –∏–∑ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –Ω–∞—É—á–Ω–æ-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Å—Ç–∏—Ç—É—Ç–æ–≤.

**–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è –≥–æ–ª–æ–≤—ã –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ. –ü–æ–ª–æ–∂–µ–Ω–∏–µ –≥–æ–ª–æ–≤—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –¥–∞—Ç—á–∏–∫–æ–≤, –¥–∞–Ω–Ω—ã–µ —Å –∫–æ—Ç–æ—Ä—ã—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä –ø–æ –ø—Ä–æ–≤–æ–¥—É –∏–ª–∏ –ø–æ –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–æ–º—É –∫–∞–Ω–∞–ª—É —Å–≤—è–∑–∏. –¢–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ª–æ–≥-—Ñ–∞–π–ª–∞.

–ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Ö –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (GUI). –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã:

- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å:** –∫–ª—é—á–µ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ–π—Å—Ç–≤–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:** —É–∫–∞–∑–∞–Ω–∏–µ COM-–ø–æ—Ä—Ç–∞, —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
- **–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–≥-—Ñ–∞–π–ª–∞, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ COM-–ø–æ—Ä—Ç—É –∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –¥–∞—Ç—á–∏–∫–∞.
- **–ë–ª–æ–∫ 2D-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:**
  - –û—Ç–¥–µ–ª—å–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã –¥–ª—è —É–≥–ª–æ–≤ —Ç–∞–Ω–≥–∞–∂–∞ (pitch), –∫—Ä–µ–Ω–∞ (roll) –∏ —Ä—ã—Å–∫–∞–Ω–∏—è (yaw).
  - –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –∏ —Ü–∏—Ñ—Ä–æ–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è –≥–æ–ª–æ–≤—ã.
  - –¶–∏—Ñ—Ä–æ–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–≥–ª–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏.
  - –ì—Ä–∞—Ñ–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 —Å–µ–∫—É–Ω–¥, —Å–æ–≤–º–µ—â—ë–Ω–Ω—ã–π —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ –æ —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ–º –æ—â—É—â–µ–Ω–∏–∏ –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞.
- **–ë–ª–æ–∫ 3D-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:**
  - 3D-–º–æ–¥–µ–ª—å –≥–æ–ª–æ–≤—ã –≤ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–π –∏–∑–æ–º–µ—Ç—Ä–∏–∏.
  - –°—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ–µ –æ—â—É—â–µ–Ω–∏–µ –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø–æ–∫—Ä–∞—Å–Ω–µ–Ω–∏—è –ø–æ –∫—Ä–∞—è–º —ç–∫—Ä–∞–Ω–∞.
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π —É–≥–ª–æ–≤.
- **–ë–ª–æ–∫ —Ä–∞–±–æ—Ç—ã —Å –ª–æ–≥-—Ñ–∞–π–ª–æ–º:**
  - –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º (–∞–Ω–∏–º–∞—Ü–∏–µ–π) –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ª–æ–≥–∞.
  - –ü–æ–ª–∑—É–Ω–æ–∫ –¥–ª—è –ø–µ—Ä–µ–º–æ—Ç–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∫–∞–ª–µ.

## –û–ø–∏—Å–∞–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```
                            1        2    3     4     5   6    7   8
–ù–∞ –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏: 0000000009;-0,80;0,85;-0,80;-6,0;9,0;-10,5;0
```
0. –í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π ";". –í –∫–∞—á–µ—Å—Ç–≤–µ –¥–µ—Å—è—Ç–∏—á–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–∞–ø—è—Ç–∞—è ",".
1. 0000000009 - INT - –Ω–æ–º–µ—Ä –∫–∞–¥—Ä–∞ / —á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ö–∞–¥—Ä–æ–≤ –∑–∞ —Å–µ–∫—É–Ω–¥—É –º–æ–∂–Ω–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ 30 —Ç–∞–∫ –∏ 60. –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –æ—Ç 0000000000 –¥–æ –ø—Ä–µ–¥–µ–¥–µ–ª–∞ int. 
2. -0,80   - FLOAT - —É–≥–æ–ª –ø–æ —Ç–∞–Ω–≥–∞–∂—É (PITCH). –î–∏–∞–ø–∞–∑–æ–Ω: -120 ... 120 –≥—Ä–∞–¥—É—Å–æ–≤. –¢–æ—á–Ω–æ—Å—Ç—å: –¥–æ —Å–æ—Ç—ã—Ö.
3. 0,85    - FLOAT - —É–≥–æ–ª –ø–æ –∫—Ä–µ–Ω—É (ROLL). –î–∏–∞–ø–∞–∑–æ–Ω: -120 ... 120 –≥—Ä–∞–¥—É—Å–æ–≤. –¢–æ—á–Ω–æ—Å—Ç—å: –¥–æ —Å–æ—Ç—ã—Ö.
4. -0,80   - FLOAT - —É–≥–æ–ª –ø–æ —Ä—ã—Å–∫–∞–Ω—å—é (YAW). –î–∏–∞–ø–∞–∑–æ–Ω: -120 ... 120 –≥—Ä–∞–¥—É—Å–æ–≤. –¢–æ—á–Ω–æ—Å—Ç—å: –¥–æ —Å–æ—Ç—ã—Ö.
5. -6,0    - FLOAT - —É–≥–ª–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ —Ç–∞–Ω–≥–∞–∂—É (PITCH). –¢–æ—á–Ω–æ—Å—Ç—å: –¥–æ –¥–µ—Å—è—Ç—ã—Ö. –í—ã—á–∏—Å–ª—è–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: —Ç–µ–∫—É—â–∏–π —É–≥–æ–ª - —É–≥–æ–ª –ø—Ä–æ—à–ª–æ–≥–æ –∫–∞–¥—Ä–∞.
6. 9,0     - FLOAT - —É–≥–ª–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ –∫—Ä–µ–Ω—É (ROLL). –¢–æ—á–Ω–æ—Å—Ç—å: –¥–æ –¥–µ—Å—è—Ç—ã—Ö. –í—ã—á–∏—Å–ª—è–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: —Ç–µ–∫—É—â–∏–π —É–≥–æ–ª - —É–≥–æ–ª –ø—Ä–æ—à–ª–æ–≥–æ –∫–∞–¥—Ä–∞.
7. -10,5   - FLOAT - —É–≥–ª–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ –ø–æ —Ä—ã—Å–∫–∞–Ω—å—é (YAW). –¢–æ—á–Ω–æ—Å—Ç—å: –¥–æ –¥–µ—Å—è—Ç—ã—Ö. –í—ã—á–∏—Å–ª—è–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: —Ç–µ–∫—É—â–∏–π —É–≥–æ–ª - —É–≥–æ–ª –ø—Ä–æ—à–ª–æ–≥–æ –∫–∞–¥—Ä–∞.
8. 0       - INT - –û—â—É—â–µ–Ω–∏–µ –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏—è: 0 - –Ω–µ—Ç –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏—è (–∫–Ω–æ–ø–∫–∞ –æ—Ç–∂–∞—Ç–∞), 1 - –µ—Å—Ç—å –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏–µ (–∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞).



–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ - 115200 baud.
–°—Ç—Ä–æ–∫–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–Ω–∞–∫–æ–≤: 0000000009;-111,80;-112,85;-113,80;-110,0;-109,0;-108,5;0
0. ;          - 7 –∑–Ω–∞–∫–æ–≤.
1. 0000000009 - 10 –∑–Ω–∞–∫–æ–≤.
2. -111,80    - 7 –∑–Ω–∞–∫–æ–≤.
3. -112,85    - 7 –∑–Ω–∞–∫–æ–≤.
4. -113,80    - 7 –∑–Ω–∞–∫–æ–≤.
5. -110,0     - 6 –∑–Ω–∞–∫–æ–≤.
6. -109,0     - 6 –∑–Ω–∞–∫–æ–≤.
7. -108,5     - 6 –∑–Ω–∞–∫–æ–≤.
8. 0          - 1 –∑–Ω–∞–∫.
--------------------------
                57 –∑–Ω–∞–∫–æ–≤ –∑–∞ –æ–¥–∏–Ω –∫–∞–¥—Ä.













                            1        2    3     4   5 6
–ù–∞ –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏: 0000000009;-0,80;0,85;-0,80;0;0

0. –í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π ";". –í –∫–∞—á–µ—Å—Ç–≤–µ –¥–µ—Å—è—Ç–∏—á–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–∞–ø—è—Ç–∞—è ",".
1. 0000000009 - INT - –Ω–æ–º–µ—Ä –∫–∞–¥—Ä–∞ / —á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ö–∞–¥—Ä–æ–≤ –∑–∞ —Å–µ–∫—É–Ω–¥—É –º–æ–∂–Ω–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ 30 —Ç–∞–∫ –∏ 60. –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –æ—Ç 0000000000 –¥–æ –ø—Ä–µ–¥–µ–¥–µ–ª–∞ int. 
2. -0,80   - FLOAT - —É–≥–æ–ª –ø–æ —Ç–∞–Ω–≥–∞–∂—É (PITCH). –î–∏–∞–ø–∞–∑–æ–Ω: -180 ... 180 –≥—Ä–∞–¥—É—Å–æ–≤. –¢–æ—á–Ω–æ—Å—Ç—å: –¥–æ —Å–æ—Ç—ã—Ö.
3. 0,85    - FLOAT - —É–≥–æ–ª –ø–æ –∫—Ä–µ–Ω—É (ROLL). –î–∏–∞–ø–∞–∑–æ–Ω: -180 ... 180 –≥—Ä–∞–¥—É—Å–æ–≤. –¢–æ—á–Ω–æ—Å—Ç—å: –¥–æ —Å–æ—Ç—ã—Ö.
4. -0,80   - FLOAT - —É–≥–æ–ª –ø–æ —Ä—ã—Å–∫–∞–Ω—å—é (YAW). –î–∏–∞–ø–∞–∑–æ–Ω: -180 ... 180 –≥—Ä–∞–¥—É—Å–æ–≤. –¢–æ—á–Ω–æ—Å—Ç—å: –¥–æ —Å–æ—Ç—ã—Ö.
5. 0       - INT - –û—â—É—â–µ–Ω–∏–µ –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞: 0 - –Ω–µ—Ç –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏—è (–∫–Ω–æ–ø–∫–∞ –æ—Ç–∂–∞—Ç–∞), 1 - –µ—Å—Ç—å –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏–µ (–∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞).
6. 0       - INT - –û—â—É—â–µ–Ω–∏–µ –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–∫—Ç–æ—Ä–∞: 0 - –Ω–µ—Ç –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏—è (–∫–Ω–æ–ø–∫–∞ –æ—Ç–∂–∞—Ç–∞), 1 - –µ—Å—Ç—å –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏–µ (–∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞).


–°—Ç—Ä–æ–∫–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–Ω–∞–∫–æ–≤: 0000000009;-111,80;-112,85;-113,80;0;0
0. ;          - 7 –∑–Ω–∞–∫–æ–≤.
1. 0000000009 - 10 –∑–Ω–∞–∫–æ–≤.
2. -111,80    - 7 –∑–Ω–∞–∫–æ–≤.
3. -112,85    - 7 –∑–Ω–∞–∫–æ–≤.
4. -113,80    - 7 –∑–Ω–∞–∫–æ–≤.
5. 0          - 1 –∑–Ω–∞–∫.
6. 0          - 1 –∑–Ω–∞–∫.






–ü–µ—Ä–µ–¥–µ–ª—ã–≤–∞–µ–º –ª–æ–≥-—Ñ–∞–π–ª

```
–î–∞–≤–∞–π –º—ã –∏–∑–º–µ–Ω–∏–º —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥ —Ñ–∞–π–ª–∞ —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –ú–æ–∂–µ–º —Ç—É–¥–∞ –∑–∞–Ω–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–º–µ–Ω–Ω–æ –ø–æ –≤—Ä–µ–º–µ–Ω–∏. –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ç–æ –¥–∞–≤–∞–π –ø–µ—Ä–µ–¥–µ–ª–∞–µ–º. –ù–∞–ø–∏—à–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ª–æ–≥ —Ñ–∞–π–ª–µ –∫–∞–∫ –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å. –ú–æ—ë –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–∞–∫–æ–µ, –º–æ–∂–µ—à—å –µ–≥–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å –µ—Å–ª–∏ –µ—Å—Ç—å –±–æ–ª–µ–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ. –ü—Ä–µ–¥–ª–∞–≥–∞—é —Ç–∞–∫ –∂–µ —É–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–± —É–≥–ª–æ–≤—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç—è—Ö, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Ö –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å. –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Ç–∞–∫ –∂–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –ø–æ –∫–æ–º-–ø–æ—Ä—Ç—É.
–õ–æ–≥-—Ñ–∞–π–ª:
##########
# –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ ‚Ññ 000002
# 2025-11-05 13:01:17
##########
0000000001;-77.25;11.15;61.00;0;1
0000000023;-77.35;11.15;61.00;1;1
0000000054;-77.45;11.20;60.95;0;1
0000000234;-77.50;11.25;61.05;0;0
–ü–µ—Ä–≤—ã–µ 4 —Å—Ç—Ä–æ–∫–∏ —Ç–∞–∫ –∂–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è. 
; - —ç—Ç–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –º–µ–∂–¥—É –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
0000000023;-77.35;11.15;61.00;1;1
0000000023 - –≤—Ä–µ–º—è –≤ –º—Å —Å –Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã
-77.35 - —É–≥–æ–ª –ø–æ –ø–∏—á—É
11.15 - —É–≥–æ–ª –ø–æ —Ä–æ–ª–ª—É
61.00 - —É–≥–æ–ª –ø–æ —è–≤
1 - —Å–∏–≥–Ω–∞–ª –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏—è –æ—Ç –ø–∞—Ü–∏–µ–Ω—Ç–∞ (–æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ü–≤–µ—Ç –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ)
1 - —Å–∏–≥–Ω–∞–ª –≥–æ–ª–æ–≤–æ–∫—Ä—É–∂–µ–Ω–∏—è –æ—Ç –≤—Ä–∞—á–∞ (—Å–∏–Ω–∏–π —Ü–≤–µ—Ç –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ)
```















**SpeedyBee F405-Wing** –æ–±—ã—á–Ω–æ –∏–º–µ–µ—Ç Wi-Fi –º–æ–¥—É–ª—å –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö UART:

## **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ Wi-Fi –º–æ–¥—É–ª—è**

### **–ß–∞—â–µ –≤—Å–µ–≥–æ:**
- **UART1 (TELEM1)** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç
- –ò–ª–∏ **UART2 (TELEM2)** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç

### **–ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å:**
1. **–í Mission Planner/QGroundControl:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `SERIAL1_PROTOCOL` –∏ `SERIAL2_PROTOCOL`
   - –î–ª—è MAVLink —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—ã—á–Ω–æ **1** (MAVLink1) –∏–ª–∏ **2** (MAVLink2)

2. **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ SpeedyBee:**
   - Wi-Fi –æ–±—ã—á–Ω–æ –Ω–∞ **UART1** —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `SERIAL1_PROTOCOL = 2` (MAVLink2)

---

## **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏**

### **–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- **UARTÁ°¨‰ª∂ÈôêÂà∂:** –î–æ 1.5-3 –ú–±–∏—Ç/—Å (STM32F405)
- **Wi-Fi –º–æ–¥—É–ª—å (ESP8266/ESP32):** –î–æ 921600 –∏–ª–∏ 1.5 –ú–±–∏—Ç/—Å
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å MAVLink:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫

### **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–∫–æ—Ä–æ—Å—Ç–∏:**
```
115200   - –ë–∞–∑–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
460800   - –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å  
921600   - –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1500000  - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π)
```

---

## **–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

### **1. –£–≤–µ–ª–∏—á—å—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å UART:**
```bash
# –í –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
SERIAL1_BAUD = 921600    # –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
SERIAL1_PROTOCOL = 2     # MAVLink2
```

### **2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ—Ç–æ–∫–∏ –¥–ª—è –≤—ã—Å–æ–∫–æ–π —á–∞—Å—Ç–æ—Ç—ã:**
```bash
SR1_RAW_SENS = 0         # –û—Ç–∫–ª—é—á–∏—Ç—å —Å—ã—Ä—ã–µ —Å–µ–Ω—Å–æ—Ä—ã
SR1_EXT_STAT = 0         # –û—Ç–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
SR1_EXTRA1 = 0           # –û—Ç–∫–ª—é—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
SR1_EXTRA2 = 0           # –û—Ç–∫–ª—é—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
SR1_EXTRA3 = 0           # –û—Ç–∫–ª—é—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
SR1_PARAMS = 0           # –û—Ç–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
SR1_ATTITUDE = 50        # 50 –ì—Ü –¥–ª—è —É–≥–ª–æ–≤ (–º–∞–∫—Å–∏–º—É–º)
```

### **3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É MAVLink:**
```bash
MAV_CMD_SET_MESSAGE_INTERVAL
Param1: 30              # ATTITUDE message
Param2: 20000           # 50 –ì—Ü (20000 –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥)
```

---

## **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**

### **–° Wi-Fi –Ω–∞ 115200:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞: ~30-40 –ì—Ü –¥–ª—è ATTITUDE
- –ó–∞–¥–µ—Ä–∂–∫–∏: 30-50 –º—Å

### **–° Wi-Fi –Ω–∞ 921600:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞: 50+ –ì—Ü –¥–ª—è ATTITUDE  
- –ó–∞–¥–µ—Ä–∂–∫–∏: 10-20 –º—Å

---

## **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

1. **–í Ground Station:**
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí –§–∏–ª—å—Ç—Ä: `SERIAL1`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `SERIAL1_BAUD` –∏ `SERIAL1_PROTOCOL`

2. **–ß–µ—Ä–µ–∑ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `MAV_CMD_REQUEST_MESSAGE` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–∞—Å—Ç–æ—Ç—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏—Ç–µ —Å **921600** –∏ –º–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.


## **–¢–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MAVLink 2 —Å —á–∞—Å—Ç–æ—Ç–æ–π 30 –ì—Ü**

### **1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ UART –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ Mission Planner/QGroundControl:
SERIAL1_BAUD = 921600      # –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –¥–ª—è Wi-Fi
SERIAL1_PROTOCOL = 2       # MAVLink 2
```

### **2. –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —á–∞—Å—Ç–æ—Ç—ã ATTITUDE (30 –ì—Ü)**
```bash
# –í –∫–æ–Ω—Å–æ–ª–∏ Mission Planner –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
MAV_CMD_SET_MESSAGE_INTERVAL
Param1: 30                 # ID —Å–æ–æ–±—â–µ–Ω–∏—è ATTITUDE
Param2: 33333              # –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤ –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥–∞—Ö (1000000/30 = 33333)
Param3-7: 0                # –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã = 0
Target: 1, 1               # –°–∏—Å—Ç–µ–º–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```

### **3. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö - –û–¢–ö–õ–Æ–ß–ò–¢–¨:**
```bash
# –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞:
SR1_ADSB = 0              # ADS-B –¥–∞–Ω–Ω—ã–µ –æ –¥—Ä—É–≥–∏—Ö –õ–ê - –Ω–µ –Ω—É–∂–Ω—ã
SR1_EXT_STAT = 0          # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã (–Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, —Ç–æ–∫) - –Ω–µ –Ω—É–∂–Ω—ã
SR1_EXTRA1 = 0            # –î–æ–ø. –¥–∞–Ω–Ω—ã–µ 1 (–≤–∫–ª—é—á–∞–µ—Ç attitude) - –ö–û–ù–§–õ–ò–ö–¢–£–ï–¢ —Å –Ω–∞—à–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π!
SR1_EXTRA2 = 0            # –î–æ–ø. –¥–∞–Ω–Ω—ã–µ 2 (—Å–∫–æ—Ä–æ—Å—Ç–∏) - –Ω–µ –Ω—É–∂–Ω—ã
SR1_EXTRA3 = 0            # –î–æ–ø. –¥–∞–Ω–Ω—ã–µ 3 (–ø–æ–ª–æ–∂–µ–Ω–∏–µ) - –Ω–µ –Ω—É–∂–Ω—ã
SR1_PARAMS = 0            # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã - –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—Ç–ø—Ä–∞–≤–∫—É
SR1_POSITION = 0          # –ü–æ–∑–∏—Ü–∏—è GPS - –Ω–µ –Ω—É–∂–Ω–∞ —Å –≤—ã—Å–æ–∫–æ–π —á–∞—Å—Ç–æ—Ç–æ–π
SR1_RAW_CTRL = 0          # –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ - –Ω–µ –Ω—É–∂–Ω—ã
SR1_RAW_SENS = 0          # –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–µ–Ω—Å–æ—Ä–æ–≤ - –Ω–µ –Ω—É–∂–Ω—ã
SR1_RC_CHAN = 0           # –î–∞–Ω–Ω—ã–µ RC –∫–∞–Ω–∞–ª–æ–≤ - –Ω–µ –Ω—É–∂–Ω—ã
```

### **4. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```bash
# –í–º–µ—Å—Ç–æ –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä:
SR1_EXTRA1 = 3            # 30 –ì—Ü –¥–ª—è –ø–æ—Ç–æ–∫–∞ EXTRA1 (–≤–∫–ª—é—á–∞–µ—Ç attitude)
```

---

## **–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:**

### **–ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**
- **SR1_EXTRA1** –∏ **MAV_CMD_SET_MESSAGE_INTERVAL** –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç!
- **–†–µ–∫–æ–º–µ–Ω–¥—É—é:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `MAV_CMD_SET_MESSAGE_INTERVAL` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `SR1_EXTRA1 = 0`

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é —á–∞—Å—Ç–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏—è:
MAV_CMD_REQUEST_MESSAGE
Param1: 30                 # ID ATTITUDE
```

### **–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Wi-Fi –º–æ–¥—É–ª—å –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ **UART1**
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `SERIAL1_PROTOCOL = 2`
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

---

## **–ü–æ–ª–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥:**

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
   ```
   SERIAL1_BAUD = 921600
   SERIAL1_PROTOCOL = 2
   SR1_EXTRA1 = 0
   SR1_EXT_STAT = 0
   SR1_EXTRA2 = 0
   SR1_EXTRA3 = 0
   SR1_POSITION = 0
   ```

2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:**
   ```
   MAV_CMD_SET_MESSAGE_INTERVAL
   Param1: 30
   Param2: 33333
   ```

3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ**

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ —É–≥–ª–∞–º —Å —á–∞—Å—Ç–æ—Ç–æ–π 30 –ì—Ü —á–µ—Ä–µ–∑ MAVLink 2.


–û—Ç–ª–∏—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å! –†–∞–∑–±–µ—Ä—ë–º —Ä–∞–±–æ—Ç—É —Å MAVLink –Ω–∞ –ø–æ–ª—ë—Ç–Ω–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ SpeedyBee F405 Wing –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ. –≠—Ç–æ—Ç –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç –≤–∞—à–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –∫ –¥–µ–π—Å—Ç–≤–∏—é.

### –ß–∞—Å—Ç—å 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ—Å–Ω–æ–≤—ã ‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ MAVLink –∏ SpeedyBee F405 Wing?

**1.1. –ü—Ä–æ—Ç–æ–∫–æ–ª MAVLink (Micro Air Vehicle Link)**
*   **–ß—Ç–æ —ç—Ç–æ?** –≠—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –¥–ª—è —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ë–ü–õ–ê (–∏ –µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏) –∏ –Ω–∞–∑–µ–º–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–µ–π (GCS ‚Äî Ground Control Station). –û–Ω –±–∏–Ω–∞—Ä–Ω—ã–π, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º.
*   **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É ¬´—Å–∏—Å—Ç–µ–º–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç¬ª. –ö–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ —Å–µ—Ç–∏ –∏–º–µ–µ—Ç —Å–≤–æ–π `SYSID` (System ID), –∞ –∫–∞–∂–¥–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –Ω–∞ —ç—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ ‚Äî `COMPID` (Component ID). SpeedyBee F405 Wing –æ–±—ã—á–Ω–æ –∏–º–µ–µ—Ç `SYSID=1`, –∞ –µ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ–ª—ë—Ç–Ω—ã–π —Å—Ç–µ–∫ ‚Äî `COMPID=1`.
*   **–°–æ–æ–±—â–µ–Ω–∏—è (Messages):** –û—Å–Ω–æ–≤–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö. –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Å–≤–æ–π —á–∏—Å–ª–æ–≤–æ–π ID –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–ª–µ–π. –ù–∞–ø—Ä–∏–º–µ—Ä:
    *   `ATTITUDE (ID #30)` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—è `time_boot_ms`, `roll`, `pitch`, `yaw`, `rollspeed`, `pitchspeed`, `yawspeed`.
    *   `HEARTBEAT (ID #0)` ‚Äî "–ø—É–ª—å—Å" —Å–∏—Å—Ç–µ–º—ã, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –µ—ë —Ç–∏–ø, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Ä–µ–∂–∏–º.
*   **–ö–∞–Ω–∞–ª—ã (Channels):** MAVLink –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ 8 –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –ø–æ–≤–µ—Ä—Ö –æ–¥–Ω–æ–≥–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (UART, USB, Wi-Fi).

**1.2. –ü–æ–ª—ë—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä SpeedyBee F405 Wing**
*   **–ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:** –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–∞ –±–∞–∑–µ STM32F405, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.
*   **–ü—Ä–æ—à–∏–≤–∫–∞:** –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä ‚Äî —ç—Ç–æ –∂–µ–ª–µ–∑–æ. –õ–æ–≥–∏–∫–æ–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—à–∏–≤–∫–∞. –î–ª—è –ø–ª–∞–Ω–µ—Ä–æ–≤ (Wing) –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω–∞ **ArduPilot (ArduPlane)**. –ò–º–µ–Ω–Ω–æ –ø—Ä–æ—à–∏–≤–∫–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π MAVLink.
*   **–ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è MAVLink:**
    *   **USB (Serial):** –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ä—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É. –û–±—ã—á–Ω–æ `/dev/ttyACM0` –Ω–∞ Linux –∏–ª–∏ `COMx` –Ω–∞ Windows.
    *   **UART Serial Ports:** –ü–æ—Ä—Ç—ã, –≤—ã–≤–µ–¥–µ–Ω–Ω—ã–µ –Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç—ã (UART1, UART2, UART3, UART4, UART6). –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏, GPS, –≤–Ω–µ—à–Ω–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.
    *   **Wi-Fi (—á–µ—Ä–µ–∑ ESP32):** –ü–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ MAVLink. –û–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 5760 –∏–ª–∏ 5762.

---

### –ß–∞—Å—Ç—å 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MAVLink –Ω–∞ SpeedyBee F405 Wing (–ü—Ä–∞–∫—Ç–∏–∫–∞)

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø—Ä–æ–≥—Ä–∞–º–º—É-–Ω–∞–∑–µ–º–Ω—É—é —Å—Ç–∞–Ω—Ü–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä **Mission Planner** –∏–ª–∏ **QGroundControl**. –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —É–ø–æ–º—è–Ω—É—Ç—ã–µ –Ω–∏–∂–µ, –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (ArduPlane).

**2.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö (Message Rates)**
–ü–æ–ª–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É. –ß–∞—Å—Ç–æ—Ç—É –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å. –≠—Ç–æ –æ—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å "–∫–∞–∫ –æ—Ç–∫–ª—é—á–∞—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã" –∏ "–∫–∞–∫ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω—É–∂–Ω—ã–µ".

*   **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `SRx_*` (Stream Rates):** –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–ø—Ä–∞–≤–ª—è—é—Ç —Å–∫–æ—Ä–æ—Å—Ç—å—é –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ä–∞–∑–Ω—ã–º –∫–∞–Ω–∞–ª–∞–º.
    *   `SR0_*` ‚Äî –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ **ExtRA Serial Port 1** (–æ–±—ã—á–Ω–æ –ø–µ—Ä–≤—ã–π —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç).
    *   `SR1_*` ‚Äî **ExtRA Serial Port 2**.
    *   `SR2_*` ‚Äî **ExtRA Serial Port 3**.
    *   `SR3_*` ‚Äî **ExtRA Serial Port 4**.
    *   `SR4_*` ‚Äî **ExtRA Serial Port 5** (UART6 –Ω–∞ SpeedyBee).
    *   `SR10_*` ‚Äî –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ **USB-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**.

*   **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞:**
    *   `SRx_EXT_STAT` (1): –°—Ç–∞—Ç—É—Å (GPS, –±–∞—Ç–∞—Ä–µ—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ).
    *   `SRx_EXTRA1` (2): –î–∞–Ω–Ω—ã–µ –æ –ø–æ–ª–æ–∂–µ–Ω–∏–∏ –∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ (Attitude, —É–≥–ª—ã).
    *   `SRx_EXTRA2` (3): –î–∞–Ω–Ω—ã–µ VFR HUD (—Å–∫–æ—Ä–æ—Å—Ç—å, –≤—ã—Å–æ—Ç–∞, –∫—É—Ä—Å).
    *   `SRx_EXTRA3` (4): –î–∞–Ω–Ω—ã–µ AHRS (—Ñ–∏–ª—å—Ç—Ä –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏).
    *   `SRx_POSITION` (5): –ü–æ–∑–∏—Ü–∏—è.
    *   `SRx_RAW_SENS` (6): –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –¥–∞—Ç—á–∏–∫–æ–≤.
    *   `SRx_RC_CHAN` (7): –î–∞–Ω–Ω—ã–µ —Å RC-–ø—Ä–∏—ë–º–Ω–∏–∫–∞.
    *   `SRx_RAW_CTRL` (8): –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

**–í–ê–ñ–ù–û –î–õ–Ø –í–ê–°:** –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ —É–≥–ª–∞–º (pitch, roll, yaw), –≤–∞–º –Ω—É–∂–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –≥—Ä—É–ø–ø—ã `EXTRA1`. –û–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ `ATTITUDE`.

*   **–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≥–ª–æ–≤ –ø–æ USB:**
    *   –ù–∞–π–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `SR10_EXTRA1`. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, **10**. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–∞–∫–µ—Ç—ã `ATTITUDE` –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å —á–∞—Å—Ç–æ—Ç–æ–π 10 –ì—Ü (10 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É). –≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–¥–∞—á.
    *   –ß—Ç–æ–±—ã *–æ—Ç–∫–ª—é—á–∏—Ç—å* –Ω–µ–Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –¥–∞—Ç—á–∏–∫–æ–≤ (`SR10_RAW_SENS`), —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ **0**.

**2.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ä—Ç–∞**
–í—ã –¥–æ–ª–∂–Ω—ã —Ä–µ—à–∏—Ç—å, –ø–æ –∫–∞–∫–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –±—É–¥–µ—Ç –∏–¥—Ç–∏ –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ —Å –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π.

*   **–í–∞—Ä–∏–∞–Ω—Ç A: USB (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)**
    *   –ü—Ä–æ—Å—Ç–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ USB –∫ –ü–ö.
    *   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `SR10_*` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ).

*   **–í–∞—Ä–∏–∞–Ω—Ç B: Wi-Fi (–±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–æ–π)**
    *   –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ Wi-Fi —Å–µ—Ç–∏, –∫–æ—Ç–æ—Ä—É—é —Ä–∞–∑–¥–∞–µ—Ç SpeedyBee (–æ–±—ã—á–Ω–æ `SpeedyBee...`).
    *   –£–∑–Ω–∞–π—Ç–µ IP-–∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ (–æ–±—ã—á–Ω–æ `192.168.4.1`).
    *   –í–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —ç—Ç–æ–º—É IP –ø–æ TCP, –ø–æ—Ä—Ç `5760` (—Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è) –∏–ª–∏ `5762` (–≤—Ç–æ—Ä–æ–π –∫–∞–Ω–∞–ª).
    *   –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—Ç–æ–∫–∞ –¥–ª—è —Ç–æ–≥–æ UART, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω ESP32 Wi-Fi –º–æ–¥—É–ª—å (—á–∞—â–µ –≤—Å–µ–≥–æ `SR0_*`). –£—Ç–æ—á–Ω–∏—Ç—å, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ UART –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –º–æ–∂–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∫ –ø–ª–∞—Ç–µ.

*   **–í–∞—Ä–∏–∞–Ω—Ç C: –í–Ω–µ—à–Ω–∏–π —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å (—Ä–∞–¥–∏–æ–∫–∞–Ω–∞–ª)**
    *   –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–∞–¥–∏–æ–º–æ–¥—É–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, ESP32) –∫ –æ–¥–Ω–æ–º—É –∏–∑ UART (–Ω–∞–ø—Ä–∏–º–µ—Ä, UART2).
    *   –í –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö ArduPilot –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ—Ä—Ç–∞ (`SERIAL2_PROTOCOL`) —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ **1** (MAVLink1) –∏–ª–∏ **2** (MAVLink2).
    *   –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—Ç–æ–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, `SR1_EXTRA1 = 10`.

---

### –ß–∞—Å—Ç—å 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö (Pitch, Roll, Yaw) –≤ –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ

**3.1. –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã:**
1.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:** –û—Ç–∫—Ä—ã—Ç—å COM-–ø–æ—Ä—Ç (–¥–ª—è USB) –∏–ª–∏ TCP-—Å–æ–∫–µ—Ç (–¥–ª—è Wi-Fi).
2.  **–°–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –ø–∞—Ä—Å–µ—Ä–∞ MAVLink:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –≤–∞—à–µ–≥–æ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.
3.  **–ß–∏—Ç–∞—Ç—å –±–∞–π—Ç—ã –∏–∑ –ø–æ—Ç–æ–∫–∞ –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏—Ö –ø–∞—Ä—Å–µ—Ä—É.**
4.  **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.** –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ `ATTITUDE` (ID 30).

**3.2. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MAVLink:**
*   **Python:** `pymavlink` ‚Äî —Å–∞–º–∞—è –ø–æ–ø—É–ª—è—Ä–Ω–∞—è –∏ —É–¥–æ–±–Ω–∞—è.
*   **C/C++:** –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ MAVLink C Library (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ XML-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π).
*   **C#:** `Mavlink.net` –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤ Mission Planner.
*   **Java:** `org.mavlink`
*   **JavaScript/Node.js:** `node-mavlink`

**3.3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `pymavlink`:**

```python
import time
from pymavlink import mavutil

# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
# –î–ª—è USB:
connection = mavutil.mavlink_connection('com3', baud=115200) # –ó–∞–º–µ–Ω–∏—Ç–µ 'com3' –Ω–∞ –≤–∞—à –ø–æ—Ä—Ç
# –î–ª—è Wi-Fi (TCP):
# connection = mavutil.mavlink_connection('tcp:192.168.4.1:5760')

# –ñ–¥—ë–º –ø–æ–ª—É—á–µ–Ω–∏—è "–ø—É–ª—å—Å–∞" (HEARTBEAT) –æ—Ç –∞–ø–ø–∞—Ä–∞—Ç–∞
print("–û–∂–∏–¥–∞–Ω–∏–µ HEARTBEAT...")
connection.wait_heartbeat()
print(f"HEARTBEAT –ø–æ–ª—É—á–µ–Ω! –°–∏—Å—Ç–µ–º–∞: {connection.target_system}, –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: {connection.target_component}")

# 2. –¶–∏–∫–ª —á—Ç–µ–Ω–∏—è –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
while True:
    # –ß–∏—Ç–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ. timeout - —Ç–∞–π–º–∞—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö.
    msg = connection.recv_match(type='ATTITUDE', blocking=True, timeout=5.0)
    
    if msg is None:
        print("–¢–∞–π–º–∞—É—Ç, —Å–æ–æ–±—â–µ–Ω–∏–µ ATTITUDE –Ω–µ –ø–æ–ª—É—á–µ–Ω–æ.")
        continue
    
    # 3. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è ATTITUDE
    # –£–≥–ª—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö!
    time_boot_ms = msg.time_boot_ms
    roll_rad = msg.roll
    pitch_rad = msg.pitch
    yaw_rad = msg.yaw
    
    # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ä–∞–¥–∏–∞–Ω—ã –≤ –≥—Ä–∞–¥—É—Å—ã (—á–∞—Å—Ç–æ –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ)
    roll_deg = roll_rad * (180 / 3.141592653589793)
    pitch_deg = pitch_rad * (180 / 3.141592653589793)
    yaw_deg = yaw_rad * (180 / 3.141592653589793)
    
    # –í—ã–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ
    print(f"Time: {time_boot_ms}ms -> Roll: {roll_deg:.2f}¬∞, Pitch: {pitch_deg:.2f}¬∞, Yaw: {yaw_deg:.2f}¬∞")
    
    # –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å roll_deg, pitch_deg, yaw_deg –≤ —Å–≤–æ—é –æ—Å–Ω–æ–≤–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É
    # your_program_function(roll_deg, pitch_deg, yaw_deg)

    # –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å –≤—ã–≤–æ–¥
    time.sleep(0.05)
```

**–ü–æ—è—Å–Ω–µ–Ω–∏—è –∫ –∫–æ–¥—É:**
*   `recv_match(type='ATTITUDE', ...)` ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—è —Ç–æ–ª—å–∫–æ `ATTITUDE`.
*   –£–≥–ª—ã –≤ MAVLink –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ **—Ä–∞–¥–∏–∞–Ω–∞—Ö**. –ü–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –≥—Ä–∞–¥—É—Å—ã.
*   `time_boot_ms` ‚Äî –≤—Ä–µ–º—è —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤.

---

### –ß–∞—Å—Ç—å 4: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∏

**4.1. –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –Ω–∞ –ø–æ–ª—ë—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**
–í–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å, –Ω–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–º–∞–Ω–¥—ã. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è `COMMAND_LONG`.
*   **–ü—Ä–∏–º–µ—Ä: –°–º–µ–Ω–∞ —Ä–µ–∂–∏–º–∞ –ø–æ–ª–µ—Ç–∞.**
    ```python
    # –ö–æ–¥—ã —Ä–µ–∂–∏–º–æ–≤ –¥–ª—è ArduPlane: https://mavlink.io/en/messages/ardupilotmega.html#PLANE_MODE
    mode_mapping = {
        'MANUAL': 0,
        'FBWA': 5, # Fly By Wire A
        'AUTO': 10,
        'RTL': 11, # Return to Launch
    }
    target_mode = mode_mapping['FBWA']

    connection.mav.command_long_send(
        connection.target_system,
        connection.target_component,
        mavutil.mavlink.MAV_CMD_DO_SET_MODE, # –ö–æ–º–∞–Ω–¥–∞ —Å–º–µ–Ω—ã —Ä–µ–∂–∏–º–∞
        0, # confirmation
        1, # Custom Mode -> 1 –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ø–æ–ª–µ—Ç–∞
        target_mode, # –†–µ–∂–∏–º, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ö–æ—Ç–∏–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
        0, 0, 0, 0, 0 # –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    )
    ```

**4.2. –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ArduPilot**
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî —ç—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—à–∏–≤–∫–∏ (PID-–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –∏ —Ç.–¥.).
*   **–ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä:**
    ```python
    # –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ "TRIM_ROLL"
    connection.mav.param_request_read_send(
        connection.target_system,
        connection.target_component,
        b'TRIM_ROLL', # –ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ –≤–∏–¥–µ bytes
        -1 # –ò–Ω–¥–µ–∫—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (-1 –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–º—è)
    )
    # –î–∞–ª–µ–µ –Ω—É–∂–Ω–æ –≤ —Ü–∏–∫–ª–µ –ª–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ PARAM_VALUE
    ```
*   **–ó–∞–ø–∏—Å–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä:**
    ```python
    connection.mav.param_set_send(
        connection.target_system,
        connection.target_component,
        b'TRIM_ROLL', # –ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
        0.05,         # –ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (float)
        mavutil.mavlink.MAV_PARAM_TYPE_REAL32, # –¢–∏–ø –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
        -1, 0 # –ò–Ω–¥–µ–∫—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–Ω–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
    )
    ```

**4.3. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö –≤–Ω–µ—à–Ω–∏—Ö –∫–æ–º–∞–Ω–¥**
–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –Ω–∞–∑–µ–º–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏ –∏–ª–∏ –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏), —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ArduPilot:
*   `SYSID_MYGCS` ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ID –≤–∞—à–µ–π –Ω–∞–∑–µ–º–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏. –¢–æ–ª—å–∫–æ –æ–Ω–∞ —Å–º–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.
*   `KILL_DISABLE` ‚Äî –û—Ç–∫–ª—é—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É "–∞–≤–∞—Ä–∏–π–Ω–æ–≥–æ –æ—Å—Ç–∞–Ω–æ–≤–∞".
*   `FS_EKF_ACTION` ‚Äî –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ EKF.
    *   **–í–∞–∂–Ω–æ:** –ò–∑—É—á–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "FailSafe" –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö ArduPilot, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∞–ø–ø–∞—Ä–∞—Ç–∞ –≤ –Ω–µ—à—Ç–∞—Ç–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.

### –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

1.  **–ü—Ä–æ—à–∏–≤–∫–∞:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ SpeedyBee F405 Wing —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è ArduPlane.
2.  **–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ—Å—å, –∫–∞–∫ –≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è (USB/Wi-Fi). –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `SRx_EXTRA1` –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ—Ä—Ç–∞.
3.  **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `pymavlink` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥ –¥–ª—è –≤–∞—à–µ–≥–æ —è–∑—ã–∫–∞.
4.  **–ü—Ä–æ–≥—Ä–∞–º–º–∞:** –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–¥ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –ø—Ä–∏–º–µ—Ä–æ–º –≤—ã—à–µ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ —á—Ç–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è `ATTITUDE`.
5.  **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –¥–∞–Ω–Ω—ã–º–∏. –ü–æ–¥–≤–∏–≥–∞–π—Ç–µ –∞–ø–ø–∞—Ä–∞—Ç —Ä—É–∫–æ–π, —É–≥–ª—ã –¥–æ–ª–∂–Ω—ã –º–µ–Ω—è—Ç—å—Å—è.
6.  **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —É–≥–ª—ã (–≤ –≥—Ä–∞–¥—É—Å–∞—Ö –∏–ª–∏ —Ä–∞–¥–∏–∞–Ω–∞—Ö) –≤ –ª–æ–≥–∏–∫—É –≤–∞—à–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã.

–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –¥–∞—Å—Ç –≤–∞–º –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ —Å –ø–æ–ª—ë—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏ –ø–æ–∑–≤–æ–ª–∏—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ –ª—é–±—É—é –≤–Ω–µ—à–Ω—é—é —Å–∏—Å—Ç–µ–º—É.





















































–û—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è! –í–æ—Ç —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —É—Ç–∏–ª–∏—Ç—ã –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –∏–º–µ–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:

```cpp
#include <Wire.h>
#include <math.h>

// ====== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ü–ò–ù–û–í ======
#define MPU9250_SDA  21
#define MPU9250_SCL  22
#define LED_BUILTIN  2

// –ê–¥—Ä–µ—Å–∞ I2C
#define MPU9250_ADDRESS 0x68
#define AK8963_ADDRESS  0x0C

// –†–µ–≥–∏—Å—Ç—Ä—ã MPU9250
#define MPU9250_WHO_AM_I        0x75
#define MPU9250_PWR_MGMT_1      0x6B
#define MPU9250_ACCEL_XOUT_H    0x3B
#define MPU9250_GYRO_XOUT_H     0x43
#define MPU9250_ACCEL_CONFIG    0x1C
#define MPU9250_GYRO_CONFIG     0x1B
#define MPU9250_USER_CTRL       0x6A
#define MPU9250_INT_PIN_CFG     0x37

// –†–µ–≥–∏—Å—Ç—Ä—ã –º–∞–≥–Ω–∏—Ç–æ–º–µ—Ç—Ä–∞ AK8963
#define AK8963_WHO_AM_I         0x00
#define AK8963_ST1              0x02
#define AK8963_HXL              0x03
#define AK8963_CNTL1            0x0A
#define AK8963_ASAX             0x10

// ====== –ù–ê–°–¢–†–û–ô–ö–ò –ö–ê–õ–ò–ë–†–û–í–ö–ò ======
const int CALIBRATION_SAMPLES = 2000;      // 2000 –∏–∑–º–µ—Ä–µ–Ω–∏–π (~40 —Å–µ–∫—É–Ω–¥)
const unsigned long CALIBRATION_DELAY_MS = 20;

// ====== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ======
float mag_min[3] = {10000, 10000, 10000};
float mag_max[3] = {-10000, -10000, -10000};
float mag_data[2000][3];
int mag_data_count = 0;

// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
enum CalibrationState {
    STATE_INIT,
    STATE_COLLECTING_DATA,
    STATE_ANALYZING,
    STATE_COMPLETE
};
CalibrationState currentState = STATE_INIT;

// ====== –§–£–ù–ö–¶–ò–ò –î–õ–Ø –†–ê–ë–û–¢–´ –° MPU9250 ======
bool writeByte(uint8_t address, uint8_t subAddress, uint8_t data) {
    Wire.beginTransmission(address);
    Wire.write(subAddress);
    Wire.write(data);
    return (Wire.endTransmission() == 0);
}

bool readBytes(uint8_t address, uint8_t subAddress, uint8_t count, uint8_t* dest) {
    Wire.beginTransmission(address);
    Wire.write(subAddress);
    if (Wire.endTransmission() != 0) return false;
    
    delayMicroseconds(100);
    
    uint8_t received = Wire.requestFrom(address, count);
    if (received != count) return false;
    
    for (uint8_t i = 0; i < count; i++) {
        dest[i] = Wire.read();
    }
    
    return true;
}

bool setupMagnetometer() {
    Serial.println("[MAG] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞–≥–Ω–∏—Ç–æ–º–µ—Ç—Ä–∞...");
    
    if (!writeByte(MPU9250_ADDRESS, MPU9250_INT_PIN_CFG, 0x02)) {
        Serial.println("[MAG] –û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –≤–∫–ª—é—á–∏—Ç—å bypass —Ä–µ–∂–∏–º");
        return false;
    }
    delay(10);
    
    uint8_t whoami;
    if (!readBytes(AK8963_ADDRESS, AK8963_WHO_AM_I, 1, &whoami)) {
        Serial.println("[MAG] –û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å WHO_AM_I");
        return false;
    }
    
    if (whoami != 0x48) {
        Serial.printf("[MAG] –û—à–∏–±–∫–∞: WHO_AM_I=0x%02X (–æ–∂–∏–¥–∞–ª–æ—Å—å 0x48)\n", whoami);
        return false;
    }
    
    if (!writeByte(AK8963_ADDRESS, AK8963_CNTL1, 0x00)) {
        Serial.println("[MAG] –û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ —Ä–µ–∂–∏–º –ø–∏—Ç–∞–Ω–∏—è");
        return false;
    }
    delay(10);
    
    uint8_t asa_buf[3];
    if (!readBytes(AK8963_ADDRESS, AK8963_ASAX, 3, asa_buf)) {
        Serial.println("[MAG] –û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã ASA");
        return false;
    }
    
    float asa_x = ((asa_buf[0] - 128) * 0.5f / 128.0f) + 1.0f;
    float asa_y = ((asa_buf[1] - 128) * 0.5f / 128.0f) + 1.0f;
    float asa_z = ((asa_buf[2] - 128) * 0.5f / 128.0f) + 1.0f;
    
    Serial.printf("[MAG] –ó–∞–≤–æ–¥—Å–∫–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ ASA: X=%.3f, Y=%.3f, Z=%.3f\n", asa_x, asa_y, asa_z);
    
    if (!writeByte(AK8963_ADDRESS, AK8963_CNTL1, 0x16)) {
        Serial.println("[MAG] –û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –≤–∫–ª—é—á–∏—Ç—å –º–∞–≥–Ω–∏—Ç–æ–º–µ—Ç—Ä");
        return false;
    }
    
    delay(50);
    Serial.println("[MAG] –ú–∞–≥–Ω–∏—Ç–æ–º–µ—Ç—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω ‚úì");
    return true;
}

bool readMagnetometer(int16_t* mx, int16_t* my, int16_t* mz) {
    uint8_t st1;
    if (!readBytes(AK8963_ADDRESS, AK8963_ST1, 1, &st1)) {
        return false;
    }
    
    if (!(st1 & 0x01)) {
        return false;
    }
    
    uint8_t buffer[7];
    if (!readBytes(AK8963_ADDRESS, AK8963_HXL, 7, buffer)) {
        return false;
    }
    
    if (buffer[6] & 0x08) {
        return false;
    }
    
    *mx = ((int16_t)buffer[1] << 8) | buffer[0];
    *my = ((int16_t)buffer[3] << 8) | buffer[2];
    *mz = ((int16_t)buffer[5] << 8) | buffer[4];
    
    return true;
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
void printStatus(const char* status) {
    static unsigned long lastPrintTime = 0;
    unsigned long currentTime = millis();
    
    // –í—ã–≤–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å –Ω–µ —á–∞—â–µ —á–µ–º —Ä–∞–∑ –≤ 500–º—Å
    if (currentTime - lastPrintTime > 500) {
        Serial.print("\r[–°–¢–ê–¢–£–°] ");
        Serial.print(status);
        Serial.print("                    "); // –û—á–∏—Å—Ç–∫–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
        lastPrintTime = currentTime;
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
void advancedCalibration() {
    currentState = STATE_COLLECTING_DATA;
    
    Serial.println("\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó");
    Serial.println("‚ïë    –£–¢–ò–õ–ò–¢–ê –ö–ê–õ–ò–ë–†–û–í–ö–ò –ú–ê–ì–ù–ò–¢–û–ú–ï–¢–†–ê MPU9250   ‚ïë");
    Serial.println("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù");
    
    Serial.println("\nüìã –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ö–ê–õ–ò–ë–†–û–í–ö–ï:");
    Serial.println("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê");
    Serial.println("üéØ –¶–ï–õ–¨: –°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –º–∞–≥–Ω–∏—Ç–æ–º–µ—Ç—Ä–∞ —Å–æ –≤—Å–µ—Ö —Å—Ç–æ—Ä–æ–Ω");
    Serial.println();
    Serial.println("üîÑ –ö–ê–ö –í–†–ê–©–ê–¢–¨ –£–°–¢–†–û–ô–°–¢–í–û:");
    Serial.println("   1. –ú–ï–î–õ–ï–ù–ù–û –≤—Ä–∞—â–∞–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ 40 —Å–µ–∫—É–Ω–¥");
    Serial.println("   2. –í—Ä–∞—â–∞–π—Ç–µ –í–û –í–°–ï–• –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö:");
    Serial.println("      ‚Ä¢ –ü–æ –∫—Ä—É–≥—É (–∫–∞–∫ –∫–æ–º–ø–∞—Å)");
    Serial.println("      ‚Ä¢ –ù–∞–∫–ª–æ–Ω—ã –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥");
    Serial.println("      ‚Ä¢ –ù–∞–∫–ª–æ–Ω—ã –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ");
    Serial.println("      ‚Ä¢ –ü–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ");
    Serial.println("   3. –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –æ—Ö–≤–∞—Ç–∏—Ç—å –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã");
    Serial.println("   4. –ò–∑–±–µ–≥–∞–π—Ç–µ —Ä–µ–∑–∫–∏—Ö –¥–≤–∏–∂–µ–Ω–∏–π");
    Serial.println();
    Serial.println("‚ö†Ô∏è  –í–ê–ñ–ù–´–ï –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø:");
    Serial.println("   ‚Ä¢ –î–µ—Ä–∂–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∞–ª—å—à–µ –æ—Ç –º–µ—Ç–∞–ª–ª–∞");
    Serial.println("   ‚Ä¢ –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–∏–ª—å–Ω—ã—Ö –º–∞–≥–Ω–∏—Ç–æ–≤ —Ä—è–¥–æ–º");
    Serial.println("   ‚Ä¢ –õ—É—á—à–µ –∫–∞–ª–∏–±—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥–µ—Ä–µ–≤—è–Ω–Ω–æ–º —Å—Ç–æ–ª–µ");
    Serial.println("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n");
    
    // –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
    mag_data_count = 0;
    for (int i = 0; i < 3; i++) {
        mag_min[i] = 10000;
        mag_max[i] = -10000;
    }
    
    // –ò–Ω–¥–∏–∫–∞—Ü–∏—è –Ω–∞—á–∞–ª–∞
    Serial.println("üöÄ –ù–ê–ß–ò–ù–ê–ï–ú –ö–ê–õ–ò–ë–†–û–í–ö–£...");
    Serial.println("   –°–≤–µ—Ç–æ–¥–∏–æ–¥ –±—É–¥–µ—Ç –≥–æ—Ä–µ—Ç—å –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö\n");
    
    for (int i = 0; i < 3; i++) {
        digitalWrite(LED_BUILTIN, HIGH);
        delay(200);
        digitalWrite(LED_BUILTIN, LOW);
        delay(200);
    }
    digitalWrite(LED_BUILTIN, HIGH);
    
    Serial.println("‚è≥ –°–ë–û–† –î–ê–ù–ù–´–• (0%):");
    Serial.print("[‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë]");
    
    unsigned long startTime = millis();
    int valid_samples = 0;
    
    // –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
    for (int i = 0; i < CALIBRATION_SAMPLES; i++) {
        int16_t mx, my, mz;
        if (readMagnetometer(&mx, &my, &mz)) {
            if (mag_data_count < CALIBRATION_SAMPLES) {
                mag_data[mag_data_count][0] = mx;
                mag_data[mag_data_count][1] = my;
                mag_data[mag_data_count][2] = mz;
                mag_data_count++;
                valid_samples++;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º min/max
                if (mx < mag_min[0]) mag_min[0] = mx;
                if (mx > mag_max[0]) mag_max[0] = mx;
                if (my < mag_min[1]) mag_min[1] = my;
                if (my > mag_max[1]) mag_max[1] = my;
                if (mz < mag_min[2]) mag_min[2] = mz;
                if (mz > mag_max[2]) mag_max[2] = mz;
            }
        }
        
        delay(CALIBRATION_DELAY_MS);
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –∫–∞–∂–¥—ã–µ 2%
        if (i % (CALIBRATION_SAMPLES / 50) == 0) {
            int progress = (i * 50) / CALIBRATION_SAMPLES;
            Serial.print("\r[");
            for (int p = 0; p < 50; p++) {
                if (p < progress) {
                    Serial.print("‚ñà");
                } else {
                    Serial.print("‚ñë");
                }
            }
            Serial.print("] ");
            Serial.print(progress * 2);
            Serial.print("%");
            
            // –í—ã–≤–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
            char statusMsg[50];
            snprintf(statusMsg, sizeof(statusMsg), "–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö: %d/%d", i, CALIBRATION_SAMPLES);
            printStatus(statusMsg);
        }
    }
    
    // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
    Serial.print("\r[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100%\n\n");
    
    digitalWrite(LED_BUILTIN, LOW);
    
    float calibration_time = (millis() - startTime) / 1000.0f;
    Serial.printf("‚úÖ –°–ë–û–† –î–ê–ù–ù–´–• –ó–ê–í–ï–†–®–ï–ù!\n");
    Serial.printf("   –í—Ä–µ–º—è: %.1f —Å–µ–∫—É–Ω–¥\n", calibration_time);
    Serial.printf("   –£—Å–ø–µ—à–Ω—ã—Ö –∏–∑–º–µ—Ä–µ–Ω–∏–π: %d/%d\n", valid_samples, CALIBRATION_SAMPLES);
    
    if (mag_data_count < 500) {
        Serial.println("\n‚ùå –û–®–ò–ë–ö–ê: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏!");
        Serial.println("   –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:");
        Serial.println("   1. –°–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ");
        Serial.println("   2. –ú–∞–≥–Ω–∏—Ç–æ–º–µ—Ç—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç");
        Serial.println("   3. –ü–æ–º–µ—Ö–∏ –æ—Ç –º–µ—Ç–∞–ª–ª–∞");
        Serial.println("\n   –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑, –≤—Ä–∞—â–∞–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ú–ï–î–õ–ï–ù–ù–ï–ï.");
        return;
    }
    
    currentState = STATE_ANALYZING;
    Serial.println("\nüîç –ê–ù–ê–õ–ò–ó –î–ê–ù–ù–´–•...");
    printStatus("–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏");
    
    // –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
    float ranges[3];
    for (int i = 0; i < 3; i++) {
        ranges[i] = mag_max[i] - mag_min[i];
    }
    
    Serial.printf("\nüìä –î–ò–ê–ü–ê–ó–û–ù –î–ê–ù–ù–´–•:\n");
    Serial.printf("   X: %.0f (min=%.0f, max=%.0f)\n", ranges[0], mag_min[0], mag_max[0]);
    Serial.printf("   Y: %.0f (min=%.0f, max=%.0f)\n", ranges[1], mag_min[1], mag_max[1]);
    Serial.printf("   Z: %.0f (min=%.0f, max=%.0f)\n", ranges[2], mag_min[2], mag_max[2]);
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
    float avg_range = (ranges[0] + ranges[1] + ranges[2]) / 3.0f;
    Serial.printf("\nüìà –°–†–ï–î–ù–ò–ô –î–ò–ê–ü–ê–ó–û–ù: %.0f\n", avg_range);
    
    if (avg_range < 200) {
        Serial.println("‚ö†Ô∏è  –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –î–∏–∞–ø–∞–∑–æ–Ω —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π!");
        Serial.println("   –í–µ—Ä–æ—è—Ç–Ω–æ, –≤—ã –≤—Ä–∞—â–∞–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞–∫—Ç–∏–≤–Ω–æ.");
    } else if (avg_range < 300) {
        Serial.println("‚ö†Ô∏è  –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –î–∏–∞–ø–∞–∑–æ–Ω –º–∞–ª–æ–≤–∞—Ç");
        Serial.println("   –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –≤—Ä–∞—â–∞–π—Ç–µ –∞–∫—Ç–∏–≤–Ω–µ–µ.");
    } else if (avg_range > 800) {
        Serial.println("‚ö†Ô∏è  –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –î–∏–∞–ø–∞–∑–æ–Ω —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π!");
        Serial.println("   –í–æ–∑–º–æ–∂–Ω–æ, —Ä—è–¥–æ–º –µ—Å—Ç—å –º–∞–≥–Ω–∏—Ç–Ω—ã–µ –ø–æ–º–µ—Ö–∏.");
    } else {
        Serial.println("‚úì –î–∏–∞–ø–∞–∑–æ–Ω –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–æ—Ä–º–µ");
    }
    
    // –ú–µ—Ç–æ–¥ 1: –ü—Ä–æ—Å—Ç–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ (—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
    Serial.println("\n‚öôÔ∏è  –í–´–ß–ò–°–õ–ï–ù–ò–ï –ü–ê–†–ê–ú–ï–¢–†–û–í –ö–ê–õ–ò–ë–†–û–í–ö–ò...");
    printStatus("–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏");
    
    float bias_simple[3], scale_simple[3];
    
    for (int i = 0; i < 3; i++) {
        bias_simple[i] = (mag_min[i] + mag_max[i]) / 2.0f;
        scale_simple[i] = 1.0f / (ranges[i] / 2.0f);
    }
    
    // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Å—à—Ç–∞–±–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
    float avg_scale = (scale_simple[0] + scale_simple[1] + scale_simple[2]) / 3.0f;
    for (int i = 0; i < 3; i++) {
        scale_simple[i] = scale_simple[i] / avg_scale;
    }
    
    // –ú–µ—Ç–æ–¥ 2: –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
    Serial.println("‚öôÔ∏è  –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ü–ê–†–ê–ú–ï–¢–†–û–í...");
    float bias_opt[3] = {bias_simple[0], bias_simple[1], bias_simple[2]};
    float scale_opt[3] = {scale_simple[0], scale_simple[1], scale_simple[2]};
    
    for (int iter = 0; iter < 10; iter++) {
        float sum_radius = 0;
        int count = 0;
        
        // –í—ã—á–∏—Å–ª—è–µ–º —Å—Ä–µ–¥–Ω–∏–π —Ä–∞–¥–∏—É—Å
        for (int i = 0; i < mag_data_count; i += 10) {
            float x_cal = (mag_data[i][0] - bias_opt[0]) * scale_opt[0];
            float y_cal = (mag_data[i][1] - bias_opt[1]) * scale_opt[1];
            float z_cal = (mag_data[i][2] - bias_opt[2]) * scale_opt[2];
            
            float radius = sqrt(x_cal*x_cal + y_cal*y_cal + z_cal*z_cal);
            sum_radius += radius;
            count++;
        }
        
        if (count > 0) {
            float target_radius = sum_radius / count;
            
            // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –º–∞—Å—à—Ç–∞–± –¥–ª—è –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è –∫ —Ü–µ–ª–µ–≤–æ–º—É —Ä–∞–¥–∏—É—Å—É
            for (int i = 0; i < 3; i++) {
                scale_opt[i] *= (target_radius / 100.0f);
            }
        }
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
    Serial.println("\nüî¨ –ü–†–û–í–ï–†–ö–ê –¢–û–ß–ù–û–°–¢–ò –ö–ê–õ–ò–ë–†–û–í–ö–ò...");
    printStatus("–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏");
    
    float radius_min = 10000, radius_max = -10000;
    float radius_sum = 0;
    int test_samples = min(mag_data_count, 200);
    
    for (int i = 0; i < test_samples; i++) {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        float x_cal = (mag_data[i][0] - bias_opt[0]) * scale_opt[0];
        float y_cal = (mag_data[i][1] - bias_opt[1]) * scale_opt[1];
        float z_cal = (mag_data[i][2] - bias_opt[2]) * scale_opt[2];
        
        float radius = sqrt(x_cal*x_cal + y_cal*y_cal + z_cal*z_cal);
        radius_sum += radius;
        
        if (radius < radius_min) radius_min = radius;
        if (radius > radius_max) radius_max = radius;
    }
    
    float radius_avg = radius_sum / test_samples;
    float radius_variation = (radius_max - radius_min) / radius_avg * 100;
    
    Serial.printf("üìê –†–ê–î–ò–£–° –ü–û–°–õ–ï –ö–ê–õ–ò–ë–†–û–í–ö–ò:\n");
    Serial.printf("   –°—Ä–µ–¥–Ω–∏–π: %.1f\n", radius_avg);
    Serial.printf("   –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π: %.1f\n", radius_min);
    Serial.printf("   –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π: %.1f\n", radius_max);
    Serial.printf("   –ò–∑–º–µ–Ω–µ–Ω–∏–µ: %.1f%%\n", radius_variation);
    
    Serial.println("\nüéØ –û–¶–ï–ù–ö–ê –ö–ê–ß–ï–°–¢–í–ê –ö–ê–õ–ò–ë–†–û–í–ö–ò:");
    
    if (radius_variation < 10) {
        Serial.println("   üèÜ –û–¢–õ–ò–ß–ù–û! –ö–∞—á–µ—Å—Ç–≤–æ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ–µ");
    } else if (radius_variation < 15) {
        Serial.println("   üëç –û–ß–ï–ù–¨ –•–û–†–û–®–û! –ö–∞—á–µ—Å—Ç–≤–æ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –æ—Ç–ª–∏—á–Ω–æ–µ");
    } else if (radius_variation < 20) {
        Serial.println("   ‚úÖ –•–û–†–û–®–û! –ö–∞—á–µ—Å—Ç–≤–æ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ —Ö–æ—Ä–æ—à–µ–µ");
    } else if (radius_variation < 25) {
        Serial.println("   ‚ö†Ô∏è  –£–î–û–í–õ–ï–¢–í–û–†–ò–¢–ï–õ–¨–ù–û! –ö–∞—á–µ—Å—Ç–≤–æ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ —Å—Ä–µ–¥–Ω–µ–µ");
    } else if (radius_variation < 30) {
        Serial.println("   ‚ö†Ô∏è  –ü–†–ò–ï–ú–õ–ï–ú–û! –ö–∞—á–µ—Å—Ç–≤–æ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –Ω–∏–∂–µ —Å—Ä–µ–¥–Ω–µ–≥–æ");
        Serial.println("   –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–æ —Ç–æ—á–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∏–¥–µ–∞–ª—å–Ω–æ–π");
    } else {
        Serial.println("   ‚ùå –ù–ò–ó–ö–û–ï –ö–ê–ß–ï–°–¢–í–û! –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–∫–∞–ª–∏–±—Ä–æ–≤–∞—Ç—å");
        Serial.println("   –í—Ä–∞—â–∞–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –±–æ–ª–µ–µ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –∏ –º–µ–¥–ª–µ–Ω–Ω–æ");
    }
    
    currentState = STATE_COMPLETE;
    printStatus("–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞");
    
    // –í—ã–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –æ—Å–Ω–æ–≤–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É
    Serial.println("\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó");
    Serial.println("‚ïë        –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ö–ê–õ–ò–ë–†–û–í–ö–ò               ‚ïë");
    Serial.println("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù");
    
    Serial.println("\nüìã –°–ö–û–ü–ò–†–£–ô–¢–ï –≠–¢–ò –î–ê–ù–ù–´–ï –í –û–°–ù–û–í–ù–£–Æ –ü–†–û–ì–†–ê–ú–ú–£:");
    Serial.println("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê");
    Serial.println("üìç –í –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:");
    Serial.println("   '–†–£–ß–ù–´–ï –ö–ê–õ–ò–ë–†–û–í–û–ß–ù–´–ï –î–ê–ù–ù–´–ï –ú–ê–ì–ù–ò–¢–û–ú–ï–¢–†–ê'");
    Serial.println("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê");
    Serial.println();
    Serial.println("// ====== –†–£–ß–ù–´–ï –ö–ê–õ–ò–ë–†–û–í–û–ß–ù–´–ï –î–ê–ù–ù–´–ï –ú–ê–ì–ù–ò–¢–û–ú–ï–¢–†–ê =====");
    Serial.printf("const float MAG_BIAS_X = %.1ff;     // –°–º–µ—â–µ–Ω–∏–µ –ø–æ X\n", bias_opt[0]);
    Serial.printf("const float MAG_BIAS_Y = %.1ff;     // –°–º–µ—â–µ–Ω–∏–µ –ø–æ Y\n", bias_opt[1]);
    Serial.printf("const float MAG_BIAS_Z = %.1ff;     // –°–º–µ—â–µ–Ω–∏–µ –ø–æ Z\n", bias_opt[2]);
    Serial.printf("const float MAG_SCALE_X = %.5ff;    // –ú–∞—Å—à—Ç–∞–± –ø–æ X\n", scale_opt[0]);
    Serial.printf("const float MAG_SCALE_Y = %.5ff;    // –ú–∞—Å—à—Ç–∞–± –ø–æ Y\n", scale_opt[1]);
    Serial.printf("const float MAG_SCALE_Z = %.5ff;    // –ú–∞—Å—à—Ç–∞–± –ø–æ Z\n", scale_opt[2]);
    Serial.println();
    Serial.println("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê");
    Serial.println("üìù –ö–†–ê–¢–ö–ê–Ø –°–í–û–î–ö–ê:");
    Serial.printf("   ‚Ä¢ –°—Ä–µ–¥–Ω–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω: %.0f\n", avg_range);
    Serial.printf("   ‚Ä¢ –ö–∞—á–µ—Å—Ç–≤–æ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏: %.1f%%\n", 100 - min(radius_variation, 100.0f));
    Serial.printf("   ‚Ä¢ –í—Ä–µ–º—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏: %.1f —Å–µ–∫\n", calibration_time);
    Serial.println("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n");
    
    Serial.println("üí° –°–û–í–ï–¢–´ –î–õ–Ø –°–õ–ï–î–£–Æ–©–ï–ô –ö–ê–õ–ò–ë–†–û–í–ö–ò:");
    if (radius_variation > 20) {
        Serial.println("   1. –í—Ä–∞—â–∞–π—Ç–µ –µ—â–µ –ú–ï–î–õ–ï–ù–ù–ï–ï");
        Serial.println("   2. –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –æ—Ö–≤–∞—Ç–∏—Ç—å –í–°–ï –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ");
        Serial.println("   3. –ò–∑–±–µ–≥–∞–π—Ç–µ –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏—Ö –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π");
    } else {
        Serial.println("   –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.");
    }
    
    Serial.println("\n‚úÖ –ö–ê–õ–ò–ë–†–û–í–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê!");
    Serial.println("   –î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.");
    Serial.println("   –î–ª—è –≤—ã—Ö–æ–¥–∞ –∑–∞–∫—Ä–æ–π—Ç–µ Serial Monitor.");
    
    // –ò–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
    for (int i = 0; i < 5; i++) {
        digitalWrite(LED_BUILTIN, HIGH);
        delay(100);
        digitalWrite(LED_BUILTIN, LOW);
        delay(100);
    }
    
    // –ú–∏–≥–∞–Ω–∏–µ –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
    while (true) {
        digitalWrite(LED_BUILTIN, HIGH);
        delay(500);
        digitalWrite(LED_BUILTIN, LOW);
        delay(500);
    }
}

// ====== SETUP ======
void setup() {
    Serial.begin(115200);
    delay(1000);
    
    Serial.println("\n\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó");
    Serial.println("‚ïë    –£–¢–ò–õ–ò–¢–ê –ö–ê–õ–ò–ë–†–û–í–ö–ò –ú–ê–ì–ù–ò–¢–û–ú–ï–¢–†–ê MPU9250   ‚ïë");
    Serial.println("‚ïë            –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ v1.0                  ‚ïë");
    Serial.println("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù");
    
    Serial.println("\nüîß –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø...");
    printStatus("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã");
    
    pinMode(LED_BUILTIN, OUTPUT);
    digitalWrite(LED_BUILTIN, LOW);
    
    Serial.println("   ‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∏–Ω–æ–≤... ‚úì");
    
    Wire.begin(MPU9250_SDA, MPU9250_SCL);
    Wire.setClock(400000);
    
    Serial.println("   ‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ I2C... ‚úì");
    
    Serial.println("\nüîç –ü–†–û–í–ï–†–ö–ê –î–ê–¢–ß–ò–ö–ê MPU9250...");
    printStatus("–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç—á–∏–∫–∞ MPU9250");
    
    if (!writeByte(MPU9250_ADDRESS, MPU9250_PWR_MGMT_1, 0x80)) {
        Serial.println("‚ùå –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å —Å–±—Ä–æ—Å–∏—Ç—å MPU9250");
        while(1) {
            digitalWrite(LED_BUILTIN, HIGH);
            delay(100);
            digitalWrite(LED_BUILTIN, LOW);
            delay(100);
        }
    }
    delay(100);
    
    if (!writeByte(MPU9250_ADDRESS, MPU9250_PWR_MGMT_1, 0x01)) {
        Serial.println("‚ùå –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å –≤–∫–ª—é—á–∏—Ç—å MPU9250");
        while(1);
    }
    
    delay(100);
    
    uint8_t whoami;
    if (!readBytes(MPU9250_ADDRESS, MPU9250_WHO_AM_I, 1, &whoami)) {
        Serial.println("‚ùå –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å WHO_AM_I");
        while(1);
    }
    
    Serial.printf("   ‚Ä¢ MPU9250 ID: 0x%02X\n", whoami);
    
    if (whoami != 0x71 && whoami != 0x73) {
        Serial.println("‚ùå –û–®–ò–ë–ö–ê: –ù–µ–≤–µ—Ä–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–∞—Ç—á–∏–∫–∞!");
        Serial.println("   –û–∂–∏–¥–∞–ª–æ—Å—å: 0x71 –∏–ª–∏ 0x73");
        while(1);
    }
    
    Serial.println("   ‚Ä¢ MPU9250 –æ–±–Ω–∞—Ä—É–∂–µ–Ω ‚úì");
    
    Serial.println("\nüîß –ù–ê–°–¢–†–û–ô–ö–ê –ú–ê–ì–ù–ò–¢–û–ú–ï–¢–†–ê...");
    printStatus("–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–≥–Ω–∏—Ç–æ–º–µ—Ç—Ä–∞");
    
    if (!setupMagnetometer()) {
        Serial.println("‚ùå –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–∞–≥–Ω–∏—Ç–æ–º–µ—Ç—Ä!");
        Serial.println("\nüîß –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–ò–ß–ò–ù–´:");
        Serial.println("   1. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º I2C");
        Serial.println("   2. –ù–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–π –¥–∞—Ç—á–∏–∫");
        Serial.println("   3. –ù–µ–≤–µ—Ä–Ω—ã–µ –ø–∏–Ω—ã SDA/SCL");
        while(1) {
            digitalWrite(LED_BUILTIN, HIGH);
            delay(500);
            digitalWrite(LED_BUILTIN, LOW);
            delay(500);
        }
    }
    
    Serial.println("\n‚úÖ –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –ö–ê–õ–ò–ë–†–û–í–ö–ï!");
    Serial.println("   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã...");
    Serial.println("   –î–ª—è –æ—Ç–º–µ–Ω—ã –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ");
    
    // –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç
    for (int i = 3; i > 0; i--) {
        Serial.printf("\r   –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑: %d —Å–µ–∫—É–Ω–¥...", i);
        delay(1000);
    }
    
    Serial.println("\n\nüöÄ –ó–ê–ü–£–°–ö –ö–ê–õ–ò–ë–†–û–í–ö–ò...");
    delay(500);
    
    // –ó–∞–ø—É—Å–∫ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
    advancedCalibration();
}

// ====== LOOP ======
void loop() {
    // –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è
    // advancedCalibration() –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º —Ü–∏–∫–ª–æ–º —Å –º–∏–≥–∞–Ω–∏–µ–º LED
    delay(1000);
}
```

## üéØ **–û–°–ù–û–í–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø:**

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫**
- –ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞
- –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–º–µ–Ω—ã (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)

### 2. **–î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**
- –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—Ä–∞—â–µ–Ω–∏—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ (—ç–º–æ–¥–∑–∏ –∏ —Ä–∞–º–∫–∏)
- –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### 3. **–í–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å**
- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä (–æ—Ç 0% –¥–æ 100%)
- –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ò–Ω–¥–∏–∫–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

### 4. **–°—Ç–∞—Ç—É—Å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞**
- –§—É–Ω–∫—Ü–∏—è `printStatus()` –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 500–º—Å
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### 5. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
- –û—Ü–µ–Ω–∫–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ (–æ—Ç "–û—Ç–ª–∏—á–Ω–æ" –¥–æ "–ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ")
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 6. **–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –°–æ–≤–µ—Ç—ã –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏

### 7. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è**
- LED –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
  - –ú–∏–≥–∞–Ω–∏–µ: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  - –ü–æ—Å—Ç–æ—è–Ω–Ω–æ –≥–æ—Ä–∏—Ç: —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
  - –ë—ã—Å—Ç—Ä–æ –º–∏–≥–∞–µ—Ç: –∞–Ω–∞–ª–∏–∑
  - –ú–µ–¥–ª–µ–Ω–Ω–æ –º–∏–≥–∞–µ—Ç: –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

## üìã **–ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:**

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥** –Ω–∞ ESP32
2. **–û—Ç–∫—Ä–æ–π—Ç–µ Serial Monitor** (115200 –±–æ–¥)
3. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏** –Ω–∞ —ç–∫—Ä–∞–Ω–µ
4. **–í—Ä–∞—â–∞–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ** –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
6. **–í—Å—Ç–∞–≤—å—Ç–µ –≤ –æ—Å–Ω–æ–≤–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É**

## üö® **–ß–¢–û –î–ï–õ–ê–¢–¨ –ï–°–õ–ò –ö–ê–õ–ò–ë–†–û–í–ö–ê –ù–ï –£–î–ê–õ–ê–°–¨:**

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞—Ç—á–∏–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –º–µ—Ç–∞–ª–ª–∞ —Ä—è–¥–æ–º
3. –í—Ä–∞—â–∞–π—Ç–µ –ú–ï–î–õ–ï–ù–ù–ï–ï –∏ –†–ê–í–ù–û–ú–ï–†–ù–ï–ï
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ
5. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

## üìä **–û–¶–ï–ù–ö–ê –ö–ê–ß–ï–°–¢–í–ê:**

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏:
- **< 10%** - –û—Ç–ª–∏—á–Ω–æ üèÜ
- **10-15%** - –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ üëç
- **15-20%** - –•–æ—Ä–æ—à–æ ‚úÖ
- **20-25%** - –£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ ‚ö†Ô∏è
- **25-30%** - –ü—Ä–∏–µ–º–ª–µ–º–æ ‚ö†Ô∏è
- **> 30%** - –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ ‚ùå

**–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω—ã—Ö –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö!**





















–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –î–∞–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ Wi-Fi –Ω–∞ ESP32 –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–Ω–æ–≥–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤, –Ω–æ –≤–æ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ü–µ–Ω–∫–∏:

## **–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –¥–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è 13 dBm (20 mW) –Ω–∞ ESP32:**

### üì° **–í –∏–¥–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö (–ª–∏–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏, –±–µ–∑ –ø–æ–º–µ—Ö):**
- **–í –ø–æ–º–µ—â–µ–Ω–∏–∏:** 15-25 –º–µ—Ç—Ä–æ–≤ (—á–µ—Ä–µ–∑ 1-2 —Å—Ç–µ–Ω—ã)
- **–ù–∞ –æ—Ç–∫—Ä—ã—Ç–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ:** 50-100 –º–µ—Ç—Ä–æ–≤

### üè¢ **–í —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö (—Å –ø–æ–º–µ—Ö–∞–º–∏):**
- **–ß–µ—Ä–µ–∑ –æ–¥–Ω—É —Å—Ç–µ–Ω—É:** 10-15 –º–µ—Ç—Ä–æ–≤
- **–ß–µ—Ä–µ–∑ –¥–≤–µ —Å—Ç–µ–Ω—ã:** 5-10 –º–µ—Ç—Ä–æ–≤
- **–í –ø–æ–º–µ—â–µ–Ω–∏–∏ —Å –º–µ–±–µ–ª—å—é:** 8-15 –º–µ—Ç—Ä–æ–≤

## üìä **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–µ–π –∏ –¥–∞–ª—å–Ω–æ—Å—Ç–∏:**

| –ú–æ—â–Ω–æ—Å—Ç—å | –ü—Ä–∏–º–µ—Ä–Ω–∞—è –¥–∞–ª—å–Ω–æ—Å—Ç—å (–≤–Ω—É—Ç—Ä–∏) | –ü—Ä–∏–º–µ—Ä–Ω–∞—è –¥–∞–ª—å–Ω–æ—Å—Ç—å (—Å–Ω–∞—Ä—É–∂–∏) | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|----------|-----------------------------|-------------------------------|------------|
| **2 dBm** (1.6 mW) | 3-5 –º | 10-15 –º | –ú–∏–Ω–∏–∞—Ç—é—Ä–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, —ç–∫–æ–Ω–æ–º–∏—è —ç–Ω–µ—Ä–≥–∏–∏ |
| **7 dBm** (5 mW) | 5-8 –º | 15-25 –º | –ú–∞–ª—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è |
| **11 dBm** (12.6 mW) | 8-12 –º | 25-40 –º | –°—Ä–µ–¥–Ω–∏–µ –ø–æ–º–µ—â–µ–Ω–∏—è |
| **13 dBm** (20 mW) | **10-15 –º** | **30-50 –º** | **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–æ–º–µ—â–µ–Ω–∏–π** |
| **15 dBm** (31.6 mW) | 12-18 –º | 40-70 –º | –ë–æ–ª—å—à–∏–µ –ø–æ–º–µ—â–µ–Ω–∏—è |
| **17 dBm** (50.1 mW) | 15-22 –º | 50-90 –º | –°–ª–æ–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è, —á–µ—Ä–µ–∑ —Å—Ç–µ–Ω—ã |
| **19 dBm** (79.4 mW) | 18-25 –º | 60-100 –º | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–∞–ª—å–Ω–æ—Å—Ç—å |

## üîß **–§–∞–∫—Ç–æ—Ä—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –¥–∞–ª—å–Ω–æ—Å—Ç—å:**

### **–£—Ö—É–¥—à–∞—é—Ç —Å–≤—è–∑—å (-):**
1. **–°—Ç–µ–Ω—ã –∏ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è** (–æ—Å–æ–±–µ–Ω–Ω–æ –∂–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–µ): -10-20 dB
2. **–ú–µ–±–µ–ª—å –∏ –ª—é–¥–∏**: -3-10 dB  
3. **–î—Ä—É–≥–∏–µ Wi-Fi —Å–µ—Ç–∏ (–∏–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏—è)**: -5-15 dB
4. **–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –ø–æ–º–µ—Ö–∏** (–º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∏ –∏ —Ç.–¥.): -5-20 dB
5. **–í–ª–∞–∂–Ω–æ—Å—Ç—å –≤–æ–∑–¥—É—Ö–∞**: -1-3 dB
6. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –∞–Ω—Ç–µ–Ω–Ω—ã**: -3-10 dB

### **–£–ª—É—á—à–∞—é—Ç —Å–≤—è–∑—å (+):**
1. **–ê–Ω—Ç–µ–Ω–Ω–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ —Å —É—Å–∏–ª–µ–Ω–∏–µ–º**: +3-10 dB
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–º–µ—Ö**: +5-10 dB
3. **–õ–∏–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏**: +10-20 dB
4. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ–ª—è—Ä–∏–∑–∞—Ü–∏—è –∞–Ω—Ç–µ–Ω–Ω**: +3-6 dB

## üì∂ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è:**

**–£—Å–ª–æ–≤–∏—è:** ESP32 —Å 13 dBm, –ø–æ–º–µ—â–µ–Ω–∏–µ, 1 —Å—Ç–µ–Ω–∞
**–ü—Ä–∏–Ω–∏–º–∞—é—â–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:** –¢–∏–ø–∏—á–Ω—ã–π –Ω–æ—É—Ç–±—É–∫/—Å–º–∞—Ä—Ç—Ñ–æ–Ω

```
–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π –±—é–¥–∂–µ—Ç —Å–≤—è–∑–∏:
- –ú–æ—â–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—Ç—á–∏–∫–∞: +13 dBm
- –ü–æ—Ç–µ—Ä–∏ –≤ –∞–Ω—Ç–µ–Ω–Ω–µ ESP32: -2 dB
- –ü–æ—Ç–µ—Ä–∏ –Ω–∞ 1 —Å—Ç–µ–Ω–µ: -10 dB
- –ü–æ—Ç–µ—Ä–∏ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 10 –º: -50 dB
- –ü–æ—Ç–µ—Ä–∏ –≤ –∞–Ω—Ç–µ–Ω–Ω–µ –ø—Ä–∏–µ–º–Ω–∏–∫–∞: -2 dB
- –ó–∞–ø–∞—Å –Ω–∞ –ø–æ–º–µ—Ö–∏: -10 dB

–ò—Ç–æ–≥–æ –Ω–∞ –ø—Ä–∏–µ–º–Ω–∏–∫–µ: 13 - 2 - 10 - 50 - 2 - 10 = -61 dBm
```

**-61 dBm** - —ç—Ç–æ —Ö–æ—Ä–æ—à–∏–π —É—Ä–æ–≤–µ–Ω—å —Å–∏–≥–Ω–∞–ª–∞! –ü–æ—Ä–æ–≥ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
- **-30 dBm**: –û—Ç–ª–∏—á–Ω—ã–π —Å–∏–≥–Ω–∞–ª
- **-50 dBm**: –•–æ—Ä–æ—à–∏–π —Å–∏–≥–Ω–∞–ª  
- **-70 dBm**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Å–≤—è–∑–∏
- **-80 dBm**: –ü—Ä–µ–¥–µ–ª –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è
- **-90 dBm**: –ù–∏–∂–µ –ø–æ—Ä–æ–≥–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üéØ **–í—ã–≤–æ–¥ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:**

**13 dBm (20 mW) - –æ—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è:**
1. **–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è** –≤ –æ–¥–Ω–æ–π –∫–æ–º–Ω–∞—Ç–µ (3-10 –º–µ—Ç—Ä–æ–≤)
2. **–î–∞—Ç—á–∏–∫–æ–≤ –≤ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π** (–≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 5-15 –º–µ—Ç—Ä–æ–≤)
3. **–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–∞–≥—Ä–µ–≤–∞** –∏ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
4. **–°–Ω–∏–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ—Ä–µ–Ω—Ü–∏–∏** —Å –¥—Ä—É–≥–∏–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º

**–ï—Å–ª–∏ —Å–≤—è–∑—å –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è:**
1. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ 17 dBm** - —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —Ä–µ—à–∏—Ç –ø—Ä–æ–±–ª–µ–º—É
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–Ω—Ç–µ–Ω–Ω—É ESP32** (–æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä—è–º–æ–π –∏ –Ω–µ –∑–∞–∫—Ä—ã—Ç–æ–π)
3. **–£–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø–æ–º–µ—Ö** (–º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∏, –¥—Ä—É–≥–∏–µ Wi-Fi —Ä–æ—É—Ç–µ—Ä—ã)
4. **–ò–∑–º–µ–Ω–∏—Ç–µ –∫–∞–Ω–∞–ª Wi-Fi** (—Å–µ–π—á–∞—Å —Å—Ç–æ–∏—Ç 6, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ 1 –∏–ª–∏ 11)

**13 dBm –¥–æ–ª–∂–Ω–æ —Ö–≤–∞—Ç–∏—Ç—å –¥–ª—è 99% —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏!** –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–∞–ª—å–Ω–æ—Å—Ç–∏ - —É–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 17 dBm.


# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∫ —Å–æ–∑–¥–∞–Ω–∏—é —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –≤—ã–Ω–æ—Å–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω—é—é –º–∞—à–∏–Ω—É.

1. –í Qt —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–ø—É—Å–∫ –Ω–∞ —Ä–µ–ª–∏–∑–Ω—É—é –≤–µ—Ä—Å–∏—é. –°–æ–±–∏—Ä–∞–µ–º –ø—Ä–æ–µ–∫—Ç.
–£ –º–µ–Ω—è –ø—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–ª—Å—è –≤ –ø–∞–ø–∫—É `C:\Users\pomai\programming\code\projects\qt_qml\MonitorHead\build` –≤ –ø–∞–ø–∫—É `Desktop_Qt_6_10_0_MinGW_64_bit-MinSizeRel`.

2. –°–∞–º—É –ø—Ä–æ–≥—Ä–∞–º–º—É –º–æ–∂–µ–º –∑–∞–∫—Ä—ã–≤–∞—Ç—å. –ò –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ `C:\Users\pomai\programming\code\projects\qt_qml\MonitorHead\build\Desktop_Qt_6_10_0_MinGW_64_bit-MinSizeRel`

```
bash

cd C:/Users/pomai/programming/code/projects/qt_qml/MonitorHead/build/Desktop_Qt_6_10_0_MinGW_64_bit-MinSizeRel
```

–ó–∞–π–¥—è –≤ —ç—Ç—É –ø–∞–ø–∫—É –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞–≤ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç MonitorHead.exe
```
./MonitorHead.exe
```
–º—ã –ø–æ–ª—É—á–∏–º —Å–ª–µ–¥—É—é—â–∏–µ –æ—à–∏–±–∫–∏:
1. –ù–µ —É–¥–∞—ë—Ç—Å—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞, –ø–æ—Å–∫–æ–ª—å–∫—É —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞ libgcc_s_seh-1.dll. –î–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É.
2. –ù–µ —É–¥–∞—ë—Ç—Å—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞, –ø–æ—Å–∫–æ–ª—å–∫—É —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞ libstdc++-6.dll. –î–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É.

```
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å–±–æ—Ä–∫–∏
cd C:/Users/pomai/programming/code/projects/qt_qml/MonitorHead/build/Desktop_Qt_6_10_0_MinGW_64_bit-MinSizeRel

# 2. –£–¥–∞–ª–∏—Ç–µ –≤—Å–µ DLL (–∫—Ä–æ–º–µ –≤–∞—à–µ–≥–æ .exe)
rm *.dll

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ windeployqt
# C:/–≤–∞—à_–ø—Ä–æ–µ–∫—Ç/qml - –ø—É—Ç—å –≥–¥–µ –ª–µ–∂–∞—Ç –≤–∞—à–∏ qml —Ñ–∞–π–ª—ã (—É –º–µ–Ω—è –æ–Ω–∏ –ª–µ–∂–∞—Ç –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
C:/Qt/6.10.0/mingw_64/bin/windeployqt.exe --release --qmldir C:/Users/pomai/programming/code/projects/qt_qml/MonitorHead MonitorHead.exe

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./MonitorHead.exe
```

–¢–µ–ø–µ—Ä—å —ç—Ç—É –ø–∞–ø–∫—É –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –Ω–∞ –¥—Ä—É–≥—É—é –º–∞—à–∏–Ω—É.

## –°–æ–∑–¥–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Inno Setup Compiler**.

–î–ª—è –Ω–∞—á–∞–ª–∞ –æ—á–∏—Å—Ç–∏–º —Ä–µ–ª–∏–∑–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –æ—Ç –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫. –î–ª—è —ç—Ç–æ–≥–æ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å–∫—Ä–∏–ø—Ç `prepare_release.sh` –∏–∑ –ø–∞–ø–∫–∏ `script_exe`. –ó–∞–ø—É—Å–∫–∞–µ–º –∏–∑ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:

```
./script_exe/prepare_release.sh
```

–î–∞–ª–µ–µ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø—Ä–æ–≥—Ä–∞–º–º—É Inno Setup Compiler –¥–ª—è –Ω–µ—ë —Å–æ–∑–¥–∞–ª —Å–∫—Ä–∏–ø—Ç `MonitorHead.iss` –∏–∑ –ø–∞–ø–∫–∏ `script_exe`.

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–ø–∏–ª—è—â–∏—é —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –º–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å `Ctrl+F9` –∏–ª–∏ `Build->Compile`.

–í—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª —É –º–µ–Ω—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–∞–ø–∫—É: `C:\Users\pomai\programming\executable_files\`. –ü–æ —ç—Ç–æ–º—É –ø—É—Ç–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª `MonitorHead_Setup.exe`

# –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è ESP32.